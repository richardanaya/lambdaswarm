<html>
<head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/0.11.0/fetch.js"></script>
  <script src="https://cdn.jsdelivr.net/es6-promise/3.0.2/es6-promise.min.js"></script>
  <script src="parallelogram.js"></script>
</head>
<body>
  <button id="btn">foo()</button>
  <button id="btnFib">fib(5)</button>
  <button id="btnTest">test(function(x){...})</button>
</body>
<script>
var p = parallelogram(["https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.3.0/lodash.js",
                "functions.js"],["foo","fib","test"]);

p.foo().then(function(x){
  console.log("pre:"+x);
});

document.getElementById("btn").addEventListener("click",function(){
  p.foo().then(function(x){
    console.log(x);
  });
})

document.getElementById("btnFib").addEventListener("click",function(){
    p.fib(5).then(function(x){
      console.log(x);
    });
})

document.getElementById("btnTest").addEventListener("click",function(){
    p.test(function(x){
      console.log("callback:"+x);
    }).then(function(x){
      console.log("return:"+x);
    });
})
</script>
</html>
